<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Myì˜í™”</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="main-header">
  <div class="logo">ğŸ¬ ë‚˜ì˜ ì˜í™”ê´€</div>
  <nav class="top-nav">
    <ul>
      <li><a href="index.html">ì˜í™”</a></li>
      <li><a href="reserve.html">ì˜ˆë§¤</a></li>
      <li><a href="my_movie.html">Myì˜í™”</a></li>
      <li><a href="login.html">ë¡œê·¸ì¸</a></li>
      <li><a href="signup.html">íšŒì›ê°€ì…</a></li>
    </ul>
  </nav>
</header>

<h1>Myì˜í™”</h1>
<div id="reservation-list" class="reserve-form" style="width: auto;"></div>

<script>
  const user = JSON.parse(localStorage.getItem("loggedInUser"));
  const container = document.getElementById("reservation-list");

  if (!user) {
    container.innerHTML = "<p>ë¡œê·¸ì¸ í›„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>";
  } else {
    const allReservations = JSON.parse(localStorage.getItem("reservations") || '{}');
    const myReservations = allReservations[user.username] || [];

    if (myReservations.length === 0) {
      container.innerHTML = `<p>${user.username}ë‹˜ì˜ ì˜ˆë§¤ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p>`;
    } else {
      const listHTML = myReservations.map((r, i) => `
        <div style="margin-bottom:15px; border-bottom:1px solid #ccc; padding-bottom:10px;">
          <strong>${i + 1}. ì˜í™”:</strong> ${r.movie}<br>
          <strong>ë‚ ì§œ:</strong> ${r.date}<br>
          <strong>ì‹œê°„:</strong> ${r.time}<br>
          <strong>ì¢Œì„:</strong> ${r.seat} / <strong>ì¸ì›:</strong> ${r.people}ëª…
        </div>
      `).join('');
      container.innerHTML = listHTML;
    }
  }
</script>
</body>
</html>
